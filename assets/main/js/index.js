// Generated by CoffeeScript 1.4.0
(function() {
  var form, socket;

  socket = io.connect('/');

  form = document.getElementById("user-form");

  form.onsubmit = function() {
    App.player = new App.Player(this.elements["username"].value);
    App.players.push(App.player);
    socket.emit("new player", {
      player: App.player
    });
    socket.on("enter metagame", function(data) {
      if (data.metagame_id != null) {
        App.metagame = new App.Metagame;
        App.metagame.clientInit(io);
        return console.log("Connecting to " + data.metagame_id);
      }
    });
    $("button").attr('disabled', 'disabled');
    return false;
  };

}).call(this);
