// Generated by CoffeeScript 1.4.0
(function() {
  var form, socket;

  module.exports = require('/assets/main/js/classes.coffee');

  socket = io.connect('/');

  form = document.getElementById("user-form");

  form.onsubmit = function() {
    var player;
    player = new Player(form.elements["username"].value);
    App.players.push(player);
    socket.emit("new player", {
      name: player.name
    });
    socket.on("enter metagame", function(data) {
      if (data.metagame_id != null) {
        App.metagame = new App.Metagame;
        App.metagame.clientInit(io);
        return console.log("Connecting to " + data.metagame_id);
      }
    });
    return false;
  };

}).call(this);
