// Generated by CoffeeScript 1.4.0
(function() {
  var App;

  App = {};

  App.metagames = [];

  App.players = [];

  App.minigames = [];

  App.Metagame = (function() {

    function Metagame() {
      this.id = 2;
    }

    Metagame.prototype.url = function() {
      return "/" + this.id;
    };

    Metagame.prototype.isAcceptingPlayers = function() {
      return true;
    };

    Metagame.prototype.serverInit = function(io) {
      return this.room = io.of("/" + this.id).on('connection', function(socket) {
        var _this = this;
        return socket.on('player added', function(data) {
          return socket.broadcast.emit('player added', data);
        });
      });
    };

    Metagame.prototype.start = function(socket) {
      console.log("##################### STARTING GAME");
      return this.currentMinigame = new App.Minigame;
    };

    Metagame.prototype.clientInit = function(io) {
      this.socket = io.connect("/" + this.id);
      this.socket.emit('player added', {
        player: App.player.name
      });
      return this.socket.on('player added', function() {
        return console.log('player added');
      });
    };

    return Metagame;

  })();

  App.Player = (function() {

    function Player(name) {
      this.name = name;
    }

    return Player;

  })();

  App.Minigame = (function() {

    function Minigame() {}

    return Minigame;

  })();

  if (typeof module !== "undefined" && module !== null) {
    module.exports = App;
  } else {
    window.App = App;
  }

}).call(this);
